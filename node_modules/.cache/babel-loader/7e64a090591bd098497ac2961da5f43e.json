{"ast":null,"code":"import _regeneratorRuntime from\"/home/antonio/loac-cents-parser/frontend/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/home/antonio/loac-cents-parser/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/home/antonio/loac-cents-parser/frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Title,Form,Error,Container,CentsShow,Logo}from'./styles';import api from'../../services/api';import logoImg from\"../../assets/logo.svg\";var Dashboard=function Dashboard(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),code=_useState2[0],setCode=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),cents=_useState4[0],setCents=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),inputError=_useState6[0],setInputError=_useState6[1];function handleGetCents(_x){return _handleGetCents.apply(this,arguments);}function _handleGetCents(){_handleGetCents=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(event){var response,student;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:event.preventDefault();_context.prev=1;_context.next=4;return api.get(\"/students/\".concat(code));case 4:response=_context.sent;console.log(response);student=response.data;if(student){_context.next=11;break;}setInputError(\"Código não existe, sua mula! Digite novamente\");setCents(null);return _context.abrupt(\"return\");case 11:setCents(student.cents);setInputError('');_context.next=18;break;case 15:_context.prev=15;_context.t0=_context[\"catch\"](1);setInputError('Código não existe, sua mula! Digite novamente');case 18:case\"end\":return _context.stop();}}},_callee,null,[[1,15]]);}));return _handleGetCents.apply(this,arguments);}return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(Container,null,/*#__PURE__*/React.createElement(Logo,{src:logoImg,alt:\"github explorer\"}),/*#__PURE__*/React.createElement(Title,null,\"Quantos centavos voc\\xEA tem em LOAC?\"),/*#__PURE__*/React.createElement(Form,{hasError:!!inputError,onSubmit:handleGetCents},/*#__PURE__*/React.createElement(\"input\",{value:code,onChange:function onChange(e){return setCode(e.target.value);},placeholder:\"Digite seu c\\xF3digo \\xFAnico:\"}),/*#__PURE__*/React.createElement(\"button\",{type:\"submit\"},\"Pesquisar\")),inputError&&/*#__PURE__*/React.createElement(Error,null,inputError),/*#__PURE__*/React.createElement(CentsShow,null,cents),cents?/*#__PURE__*/React.createElement(Title,null,\"Centavos\"):null));};export default Dashboard;","map":{"version":3,"sources":["/home/antonio/loac-cents-parser/frontend/src/pages/DashBoard/index.tsx"],"names":["React","useState","Title","Form","Error","Container","CentsShow","Logo","api","Dashboard","code","setCode","cents","setCents","inputError","setInputError","handleGetCents","event","preventDefault","get","response","console","log","student","data","logoImg","e","target","value"],"mappings":"8WAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,KAA2C,OAA3C,CACA,OACEC,KADF,CACSC,IADT,CACeC,KADf,CACsBC,SADtB,CACiCC,SADjC,CAC4CC,IAD5C,KAEO,UAFP,CAGA,MAAOC,CAAAA,GAAP,KAAgB,oBAAhB,C,2CAQA,GAAMC,CAAAA,SAAmB,CAAG,QAAtBA,CAAAA,SAAsB,EAAM,eACRR,QAAQ,CAAC,EAAD,CADA,wCACzBS,IADyB,eACnBC,OADmB,8BAENV,QAAQ,CAAgB,IAAhB,CAFF,yCAEzBW,KAFyB,eAElBC,QAFkB,8BAGIZ,QAAQ,CAAC,EAAD,CAHZ,yCAGzBa,UAHyB,eAGbC,aAHa,uBAKjBC,CAAAA,cALiB,sJAKhC,iBAA8BC,KAA9B,uIACEA,KAAK,CAACC,cAAN,GADF,sCAK2BV,CAAAA,GAAG,CAACW,GAAJ,qBAAqBT,IAArB,EAL3B,QAKUU,QALV,eAMIC,OAAO,CAACC,GAAR,CAAYF,QAAZ,EACMG,OAPV,CAO6BH,QAAQ,CAACI,IAPtC,IAUSD,OAVT,0BAWMR,aAAa,CAAC,+CAAD,CAAb,CACAF,QAAQ,CAAC,IAAD,CAAR,CAZN,yCAeIA,QAAQ,CAACU,OAAO,CAACX,KAAT,CAAR,CACAG,aAAa,CAAC,EAAD,CAAb,CAhBJ,iFAmBIA,aAAa,CAAC,+CAAD,CAAb,CAnBJ,qEALgC,iDA6BhC,mBACE,qDACE,oBAAC,SAAD,mBACE,oBAAC,IAAD,EAAM,GAAG,CAAEU,OAAX,CAAoB,GAAG,CAAC,iBAAxB,EADF,cAEE,oBAAC,KAAD,8CAFF,cAIE,oBAAC,IAAD,EACE,QAAQ,CAAE,CAAC,CAACX,UADd,CAEE,QAAQ,CAAEE,cAFZ,eAIE,6BACE,KAAK,CAAEN,IADT,CAEE,QAAQ,CAAE,kBAACgB,CAAD,QAAOf,CAAAA,OAAO,CAACe,CAAC,CAACC,MAAF,CAASC,KAAV,CAAd,EAFZ,CAGE,WAAW,CAAC,gCAHd,EAJF,cASE,8BAAQ,IAAI,CAAC,QAAb,cATF,CAJF,CAgBId,UAAU,eAAI,oBAAC,KAAD,MAAQA,UAAR,CAhBlB,cAiBA,oBAAC,SAAD,MAAYF,KAAZ,CAjBA,CAkBEA,KAAK,cAAG,oBAAC,KAAD,iBAAH,CAA6B,IAlBpC,CADF,CADF,CAwBD,CArDD,CAuDA,cAAeH,CAAAA,SAAf","sourcesContent":["import React, { useState, FormEvent } from 'react';\nimport {\n  Title, Form, Error, Container, CentsShow, Logo,\n} from './styles';\nimport api from '../../services/api';\nimport logoImg from '../../assets/logo.svg';\n\ninterface Student {\n  code: string;\n  cents: number;\n}\n\nconst Dashboard: React.FC = () => {\n  const [code, setCode] = useState('');\n  const [cents, setCents] = useState<number | null>(null);\n  const [inputError, setInputError] = useState('');\n\n  async function handleGetCents(event: FormEvent<HTMLFormElement>) {\n    event.preventDefault();\n\n\n    try {\n      const response = await api.get(`/students/${code}`)\n      console.log(response);\n      const student: Student = response.data;\n\n\n      if (!student) {\n        setInputError(\"Código não existe, sua mula! Digite novamente\")\n        setCents(null)\n        return;\n      }\n      setCents(student.cents);\n      setInputError('')\n\n    } catch (error) {\n      setInputError('Código não existe, sua mula! Digite novamente')\n    }\n\n  }\n\n  return (\n    <>\n      <Container>\n        <Logo src={logoImg} alt=\"github explorer\" />\n        <Title>Quantos centavos você tem em LOAC?</Title>\n\n        <Form\n          hasError={!!inputError}\n          onSubmit={handleGetCents}\n        >\n          <input\n            value={code}\n            onChange={(e) => setCode(e.target.value)}\n            placeholder=\"Digite seu código único:\"\n          />\n          <button type=\"submit\">Pesquisar</button>\n        </Form>\n\n        { inputError && <Error>{inputError}</Error>}\n      <CentsShow>{cents}</CentsShow>\n      { cents ? <Title>Centavos</Title> : null }\n      </Container>\n    </>\n  );\n};\n\nexport default Dashboard;\n"]},"metadata":{},"sourceType":"module"}